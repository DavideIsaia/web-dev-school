<h1 class="text-center p-3">Filtra studenti</h1>
<div class="container">

  <form method="get" class="text-center" (ngSubmit)="search()" #f="ngForm">
    <label for="base-lang">Filtra per linguaggio desiderato:</label>
    <select class="ms-1 me-4" id="base-lang" [(ngModel)]="form.id" name="id">
      <option value=""></option>
      <option
        *ngFor="let lang of base_languages"
        [value]="lang.id"
      >
        {{lang.id}} - {{ lang.name }}
    </option>
    </select>

    <label for="progress">Progresso totale studente:</label>
    <input
      class="ms-1"
      id="progress"
      type="number"
      min="0" max="100" step="5"
      [(ngModel)]="form.total_progress"
      name="progress"
    ><span> %</span>

    <button type="submit" type="button" class="btn btn-primary ms-4" (click)="search()">Cerca</button>
  </form>

</div>

<h1 class="text-center p-3">Lista degli studenti</h1>
<div class="container">
  <table class="table table-striped table-dark table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Username studente</th>
        <th>Avanzamento studi</th>
        <th>Progresso totale</th>
        <th>Registrato il</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let student of students" routerLink="/admin-dashboard" (click)="sendUserDetails(student)">
        <td>#{{ student.id }}</td>
        <td>{{ student.username | titlecase }}</td>
        <td>{{ student.actual_state | titlecase }}</td>
        <td>{{ student.total_progress }}%</td>
        <td>{{ student.registration_date | date: 'dd/MM/yyyy' }}</td>
      </tr>
    </tbody>
  </table>
</div>
